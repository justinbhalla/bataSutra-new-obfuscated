!function(){"use strict";var e="1WN8151jGQjqbfO0Aj2tK-79yJ9gCD_z0DLCdxs_higg",t="Headlines",n="A:C",o="https://docs.google.com/spreadsheets/d/"+e+"/gviz/tq?tqx=out:csv&sheet="+encodeURIComponent(t)+"&range="+encodeURIComponent(n);try{var r=document.createElement("link");r.rel="prefetch",r.as="fetch",r.crossOrigin="anonymous",r.href=o,document.head.appendChild(r)}catch(e){}function i(e){for(var t=[],n=[],o="",r=!1,i=0;i<e.length;i++){var c=e[i];if(r)'"'===c?'"'===e[i+1]?(o+='"',i++):r=!1:o+=c;else if('"'===c)r=!0;else if(","===c)n.push(o),o="";else if("\n"===c)n.push(o),t.push(n),n=[],o="";else"\r"!==c&&(o+=c)}return(o.length||n.length)&&(n.push(o),t.push(n)),t}function c(e,t){return new Promise(function(n,r){var i="AbortController"in window?new AbortController:null,c=setTimeout(function(){try{i&&i.abort()}catch(e){}r(new Error("timeout"))},t||800);fetch(e,{signal:i&&i.signal,cache:"force-cache",credentials:"omit"}).then(function(e){clearTimeout(c),n(e)}).catch(function(e){clearTimeout(c),r(e)})})}function a(e,t){var n=((t||[]).join(" â€¢ ").length||120)/1.8|0;e&&e.style&&e.style.setProperty("--dur",Math.min(140,Math.max(60,n))+"s")}function s(e,t,n){if(e&&Array.isArray(t)&&t.length){e.className="ticker "+("right"===n?"ticker-right":"ticker-left")+" "+("botTicker"===e.id?"text-sm text-slate-700":"text-sm font-medium"),e.innerHTML="";for(var o=t.concat(t),r=0;r<o.length;r++){var i=document.createElement("span");i.textContent=o[r],e.appendChild(i)}a(e,t)}}function l(e){if(e){var t=e.filter(function(e){return"top"===e.section}).map(function(e){return e.text}),n=e.filter(function(e){return"bottom"===e.section}).map(function(e){return e.text});s(document.getElementById("topTicker"),t,"right"),s(document.getElementById("botTicker"),n,"left")}}var d="bs_headlines_editorial_policy_v1",u=9e5;function f(){try{var e=localStorage.getItem(d);if(!e)return null;var t=JSON.parse(e),n=t.ts,o=t.data;return Date.now()-n>u?null:o}catch(e){return null}}function m(e){try{localStorage.setItem(d,JSON.stringify({ts:Date.now(),data:e}))}catch(e){}}async function p(){try{var e=await c(o,900);if(!e.ok)throw new Error("HTTP "+e.status);var t=await e.text();if(t.trim().startsWith("<"))return[];var n=i(t);if(!n.length)return[];var r=n[0].map(function(e){return e.replace(/^\uFEFF/,"").trim().toLowerCase()}),c=r.indexOf("section"),a=r.indexOf("text");return c<0||a<0?[]:n.slice(1).map(function(e){return{section:(e[c]||"").toLowerCase().trim(),text:(e[a]||"").trim()}}).filter(function(e){return!!e.text})}catch(e){return console.warn("Headlines fetch failed:",e.message||e),null}}function h(){try{if(window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches)for(var e=document.querySelectorAll(".ticker-left, .ticker-right"),t=0;t<e.length;t++)e[t].style.animation="none"}catch(e){}}function g(){var e=document.getElementById("year");e&&(e.textContent=String((new Date).getFullYear()))}document.addEventListener("DOMContentLoaded",(async function(){g(),h();var e=f();e&&l(e);var t=await p();t&&(m(t),l(t))}),{once:!0})}();
