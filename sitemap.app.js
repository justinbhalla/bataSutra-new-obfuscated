<script>
!function(){"use strict";const e="1WN8151jGQjqbfO0Aj2tK-79yJ9gCD_z0DLCdxs_higg",t="Headlines",n="A:C",o="https://docs.google.com/spreadsheets/d/"+e+"/gviz/tq?tqx=out:csv&sheet="+encodeURIComponent(t)+"&range="+encodeURIComponent(n);!function(){try{const e=document.createElement("link");e.rel="prefetch",e.as="fetch",e.crossOrigin="anonymous",e.href=o,document.head.appendChild(e)}catch(e){}}();function r(e){const t=[];let n=[],o="",r=!1;for(let c=0;c<e.length;c++){const i=e[c];if(r)34===i.charCodeAt(0)?e[c+1]==='"'?(o+='"',c++):r=!1:o+=i;else 34===i.charCodeAt(0)?r=!0:44===i.charCodeAt(0)?(n.push(o),o=""):10===i.charCodeAt(0)?(n.push(o),t.push(n),n=[],o=""):13!==i.charCodeAt(0)&&(o+=i)}return(o.length||n.length)&&(n.push(o),t.push(n)),t}function c(e,t=800){return new Promise((n,r)=>{const c="AbortController"in window?new AbortController:null,i=setTimeout(()=>{try{null==c||c.abort()}catch(e){}r(new Error("timeout"))},t);fetch(e,{signal:null==c?void 0:c.signal,cache:"force-cache",credentials:"omit"}).then(e=>{clearTimeout(i),n(e)}).catch(e=>{clearTimeout(i),r(e)})})}function i(e,t){const n=((t||[]).join(" â€¢ ").length||120)/1.8,o=Math.min(140,Math.max(60,Math.round(n)));try{e.style.setProperty("--dur",o+"s")}catch(r){e.style&&(e.style.animationDuration=o+"s")}}function s(e,t,n){if(!e||!Array.isArray(t)||0===t.length)return;e.className=`ticker ${"right"===n?"ticker-right":"ticker-left"} ${"botTicker"===e.id?"text-sm text-slate-700":"text-sm font-medium"}`,e.innerHTML="";t.concat(t).forEach((t=>{const n=document.createElement("span");n.textContent=t,e.appendChild(n)})),i(e,t)}function a(e){if(!e)return;const t=e.filter((e=>"top"===e.section)).map((e=>e.text)),n=e.filter((e=>"bottom"===e.section)).map((e=>e.text));s(document.getElementById("topTicker"),t,"right"),s(document.getElementById("botTicker"),n,"left")}const l="bs_headlines_sitemap_v1",d=9e5;function u(){try{const e=localStorage.getItem(l);if(!e)return null;const{ts:t,data:n}=JSON.parse(e);return Date.now()-t>d?null:n}catch(e){return null}}function f(e){try{localStorage.setItem(l,JSON.stringify({ts:Date.now(),data:e}))}catch(e){}}async function h(){try{const e=await c(o,900);if(!e.ok)throw new Error("HTTP "+e.status);const t=await e.text();if(t.trim().startsWith("<"))return[];const n=r(t);if(!n.length)return[];const o=n[0].map((e=>e.replace(/^\uFEFF/,"").trim().toLowerCase())),c=o.indexOf("section"),i=o.indexOf("text");return c<0||i<0?[]:n.slice(1).map((e=>({section:(e[c]||"").toLowerCase().trim(),text:(e[i]||"").trim()}))).filter((e=>e.text))}catch(e){return console.warn("Headlines fetch failed:",e.message||e),null}}function m(){try{if(window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches)document.querySelectorAll(".ticker-left, .ticker-right").forEach((e=>{e.style.animation="none"}))}catch(e){}}function p(){const e=document.getElementById("year");e&&(e.textContent=String((new Date).getFullYear()))}async function y(){p(),m();const e=u();e&&a(e);const t=await h();t&&(f(t),a(t))}document.addEventListener("DOMContentLoaded",y,{once:!0})}();
</script>
